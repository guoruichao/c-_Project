using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Configuration;
using System.Net;
//using Smarten.Utility;
namespace Smarten.Net
{
    /*
    /// <summary>
    /// 网络配置文件.
    /// </summary>
    public class NetSetting
    {

//         /// <summary>
//         /// 服务器Ip.
//         /// </summary>
//         public string ServerIp;
//         /// <summary>
//         /// 服务器端口.
//         /// </summary>
//         public int ServerPort;
//         /// <summary>
//         /// 服务器名称.
//         /// </summary>
//         public string ServerName;
//         /// <summary>
//         /// 是否开启延迟算法.
//         /// </summary>
//         public bool NoDely = true;
//         /// <summary>
//         /// 是否开启队列延迟.
//         /// </summary>
//         public bool QueueNoDely = true;
//         /// <summary>
//         /// 超时时间.
//         /// </summary>
//         public int TimeOut;
// 
//         /// <summary>
//         /// 代理服务器Ip.
//         /// </summary>
//         public string[] AgentIps;
//         /// <summary>
//         /// 代理服务器端口.
//         /// </summary>
//         public string[] AgentProts;
//         /// <summary>
//         /// 代理服务器名称.
//         /// </summary>
//         public string[] AgentNames;
//         /// <summary>
//         /// Leveup.
//         /// </summary>
//         public string[] Leveup;
//         /// <summary>
//         /// 网络配置单例.
//         /// </summary>
//         public static NetSetting Instance;


        static NetSetting()
        {
            Instance = new NetSetting();
        }

        

        /// <summary>
        /// 网络配置参数本地初始化.
        /// </summary>
        public void LocalInit()
        {
//             CommTrace.Log("loading netsetting from local machine.");
//             string value = ConfigurationManager.AppSettings.Get("ServerIp");
//             if (String.IsNullOrEmpty(value))
//             {
//                 Console.WriteLine("没有设置服务器Ip");
//                 return;
//             }
//             else
//             {
//                 ServerIp = value;
//             }
//             value = ConfigurationManager.AppSettings.Get("ServerPort");
//             if (string.IsNullOrEmpty(value))
//             {
//                 Console.WriteLine("没有设置服务器端口");
//                 return;
//             }
//             else
//             {
//                 ServerPort = Convert.ToInt32(value);
//             }
//             ServerName = ConfigurationManager.AppSettings.Get("ServerName");
//             value = ConfigurationManager.AppSettings.Get("NoDely");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 NoDely = Convert.ToBoolean(value);
//             }
//             value = ConfigurationManager.AppSettings.Get("QueueNoDely");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 QueueNoDely = Convert.ToBoolean(value);
//             }
//             value = ConfigurationManager.AppSettings.Get("QueueNoDely");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 QueueNoDely = Convert.ToBoolean(value);
//             }
//             value = ConfigurationManager.AppSettings.Get("TimeOut");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 TimeOut = Convert.ToInt32(value);
//             }
//             value = ConfigurationManager.AppSettings.Get("AgentName");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 AgentNames = value.Split(new char[] { '|' }, StringSplitOptions.RemoveEmptyEntries);
//             }
//             value = ConfigurationManager.AppSettings.Get("AgentIp");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 AgentIps = value.Split(new char[] { '|' }, StringSplitOptions.RemoveEmptyEntries);
//             }
//             value = ConfigurationManager.AppSettings.Get("AgentPort");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 AgentProts = value.Split(new char[] { '|' }, StringSplitOptions.RemoveEmptyEntries);
//             }
//             value = ConfigurationManager.AppSettings.Get("LevelUp");
//             if (!string.IsNullOrWhiteSpace(value))
//             {
//                 Leveup = value.Split(new char[] { ',' }, StringSplitOptions.RemoveEmptyEntries);
//             }
//             CommTrace.Log("server ip:" + ServerIp + ":" + ServerPort);
//             CommTrace.Log("server name:" + ServerName);
//             CommTrace.Log("simeout:" + TimeOut);
        }



        /// <summary>
        /// 网络配置参数远程初始化.
        /// </summary>
        /// <param name="url">远程地址.</param>
        public void RemoteInit(string url)
        {
//             CommTrace.Log("Start Initialise NetSetting,load from " + url);
//             WebClient web = new WebClient();
//             string configstr = web.DownloadString(url);
//             ConfigOperator config = new ConfigOperator();
//             config.Read(configstr);
//             config.GetValue<string>("ServerIp", out ServerIp);
//             config.GetValue<int>("ServerPort", out ServerPort);
//             config.GetValue<bool>("NoDely", out NoDely);
//             config.GetValue<bool>("QueueNoDely", out QueueNoDely);
//             config.GetValue<int>("TimeOut", out TimeOut);
//             Console.WriteLine("End");

        }
    }
//*/

}
